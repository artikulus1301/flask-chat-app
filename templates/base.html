<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Secure Chat{% endblock %}</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <!-- Socket.IO -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js" defer></script>

    <!-- CryptoJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" defer></script>

    {% block head %}
    <!-- Дополнительные стили/метаданные -->
    {% endblock %}
</head>

<body>
    <div class="app-container">

        <!-- Header -->
        <header class="header">
            {% block header %}
            <h1>🔒 Secure Chat</h1>

            <!-- ⚙️ Статус шифрования -->
            <div id="encryption-status" class="encryption-off">
                Шифрование выключено
            </div>
            {% endblock %}
        </header>

        <!-- Main Content -->
        <main class="main-content">
            {% block content %}
            <!-- Контент страницы (чат / группы / формы и т.д.) -->
            {% endblock %}
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p>&copy; 2025 Secure Chat. End-to-End Encrypted.</p>
            </div>
        </footer>
    </div>

    <!-- Глобальные элементы, к которым обращается JS -->
    <input type="file" id="file-input" style="display: none;">
    
    {% block scripts %}
    <!-- Основные JS -->
    <script src="{{ url_for('static', filename='js/app.js') }}" defer></script>
    {% endblock %}
</body>
</html>
